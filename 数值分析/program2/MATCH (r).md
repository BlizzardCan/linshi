MATCH (r)
DETACH DELETE r







分别对班级

```
MATCH (班级:班级 {name: '人工智能_1班'})
UNWIND range(1, 30) AS 学生编号
CREATE (学生:学生 {
  姓名: '学生' + toString(学生编号),
  学号: '2024' + toString(学生编号),
  性别: CASE WHEN rand() > 0.5 THEN '男' ELSE '女' END,
  青年大学习: CASE WHEN rand() > 0.5 THEN '已学习' ELSE '未学习' END,
  强国学习时间: round(rand() * 100),
  志愿服务时间: round(rand() * 200)
})
SET 学生.思政分数 = CASE 
                        WHEN 学生.青年大学习 = '已学习' THEN 10
                        ELSE 0
                      END + 学生.强国学习时间 + 学生.志愿服务时间
CREATE (学生)-[:属于]->(班级)
RETURN 学生
```





```cypher
// 匹配人工智能_1班班级节点
MATCH (班级:班级 {名称: '人工智能_1班'})
// 为班级中的每个学生节点添加政治课平均成绩属性，并更新思政分数
MATCH (班级)-[:属于]->(学生:学生)
WITH 学生
SET 学生.政治课平均成绩 = round(rand() * 100), // 随机生成政治课平均成绩
    学生.出勤率 = round(rand() * 100), // 随机生成出勤率
    学生.课堂表现 = round(rand() * 100), // 随机生成课堂表现
    学生.作业完成情况 = round(rand() * 100) // 随机生成作业完成情况
// 更新思政分数计算方式，考虑青年大学习、强国学习时间、志愿服务时间、出勤率、课堂表现、作业完成情况和政治课平均成绩
SET 学生.思政分数 = 
    (CASE WHEN 学生.青年大学习 = '已学习' THEN 10 ELSE 0 END) +
    (学生.强国学习时间 * 0.5) +
    (学生.志愿服务时间 * 0.3) +
    (学生.出勤率 * 0.05) +
    (学生.课堂表现 * 0.05) +
    (学生.作业完成情况 * 0.05) +
    (学生.政治课平均成绩 * 0.1)
RETURN 学生
```

